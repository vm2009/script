--- START OF FILE WWW menu + tp new glasses version (MOBILE EDIT).txt ---

--[[ 
    UNIVERSAL YOUTH HUB [ULTIMATE PRO EDITION - FAST ESP]
    - Mobile Support: Added (Scale 0.7, No Aimbot on Mobile).
    - ESP Refresh Rate: 1 second.
    - All features preserved.
]] 

local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

-- ==============================================================================
-- НАСТРОЙКИ ОПРЕДЕЛЕНИЯ УСТРОЙСТВА
-- ==============================================================================

-- Проверка: Если нет клавиатуры или включен тачскрин -> считаем Мобилкой
local isMobile = UserInputService.TouchEnabled or not UserInputService.KeyboardEnabled

-- Масштаб интерфейса: 0.7 для мобилок, 1 для ПК
local scale = isMobile and 0.7 or 1

-- ==============================================================================
-- ВСТРОЕННЫЙ МОДУЛЬ AIMBOT (EXUNYS V3)
-- Загружаем модуль, но активируем UI только на ПК
-- ==============================================================================
local function LoadAimbotModule()
    --// Cache
    local game, workspace = game, workspace
    local getrawmetatable, getmetatable, setmetatable, pcall, getgenv, next, tick = getrawmetatable, getmetatable, setmetatable, pcall, getgenv, next, tick
    local Vector2new, Vector3zero, CFramenew, Color3fromRGB, Color3fromHSV, Drawingnew, TweenInfonew = Vector2.new, Vector3.zero, CFrame.new, Color3.fromRGB, Color3.fromHSV, Drawing.new, TweenInfo.new
    local getupvalue, mousemoverel, tablefind, tableremove, stringlower, stringsub, mathclamp = debug.getupvalue, mousemoverel or (Input and Input.MouseMove), table.find, table.remove, string.lower, string.sub, math.clamp

    local GameMetatable = getrawmetatable and getrawmetatable(game) or {
        __index = function(self, Index) return self[Index] end,
        __newindex = function(self, Index, Value) self[Index] = Value end
    }

    local __index = GameMetatable.__index
    local __newindex = GameMetatable.__newindex
    local getrenderproperty, setrenderproperty = getrenderproperty or __index, setrenderproperty or __newindex
    local GetService = __index(game, "GetService")

    --// Services
    local RunService = GetService(game, "RunService")
    local UserInputService = GetService(game, "UserInputService")
    local TweenService = GetService(game, "TweenService")
    local Players = GetService(game, "Players")

    --// Service Methods
    local LocalPlayer = __index(Players, "LocalPlayer")
    local Camera = __index(workspace, "CurrentCamera")
    local FindFirstChild, FindFirstChildOfClass = __index(game, "FindFirstChild"), __index(game, "FindFirstChildOfClass")
    local GetDescendants = __index(game, "GetDescendants")
    local WorldToViewportPoint = __index(Camera, "WorldToViewportPoint")
    local GetPartsObscuringTarget = __index(Camera, "GetPartsObscuringTarget")
    local GetMouseLocation = __index(UserInputService, "GetMouseLocation")
    local GetPlayers = __index(Players, "GetPlayers")

    --// Variables
    local RequiredDistance, Typing, Running, ServiceConnections, Animation, OriginalSensitivity = 2000, false, false, {}
    local Connect, Disconnect = __index(game, "DescendantAdded").Connect

    --// Checking for multiple processes
    if getgenv().ExunysDeveloperAimbot and getgenv().ExunysDeveloperAimbot.Exit then
        getgenv().ExunysDeveloperAimbot:Exit()
    end

    --// Environment
    getgenv().ExunysDeveloperAimbot = {
        DeveloperSettings = { UpdateMode = "RenderStepped", TeamCheckOption = "TeamColor", RainbowSpeed = 1 },
        Settings = {
            Enabled = false, 
            TeamCheck = false,
            AliveCheck = true,
            WallCheck = false,
            OffsetToMoveDirection = false,
            OffsetIncrement = 15,
            Sensitivity = 0.2, -- 0.2 = Smooth (Default), 0 = Instant
            Sensitivity2 = 3.5,
            LockMode = 1,
            LockPart = "Head",
            TriggerKey = Enum.UserInputType.MouseButton2,
            Toggle = false
        },
        FOVSettings = {
            Enabled = true,
            Visible = false, 
            Radius = 90,
            NumSides = 60,
            Thickness = 1,
            Transparency = 1,
            Filled = false,
            RainbowColor = false,
            RainbowOutlineColor = false,
            Color = Color3fromRGB(255, 255, 255),
            OutlineColor = Color3fromRGB(0, 0, 0),
            LockedColor = Color3fromRGB(255, 150, 150)
        },
        Blacklisted = {},
        FOVCircleOutline = Drawingnew("Circle"),
        FOVCircle = Drawingnew("Circle")
    }

    local Environment = getgenv().ExunysDeveloperAimbot
    setrenderproperty(Environment.FOVCircle, "Visible", false)
    setrenderproperty(Environment.FOVCircleOutline, "Visible", false)

    --// Core Functions
    local ConvertVector = function(Vector) return Vector2new(Vector.X, Vector.Y) end

    local CancelLock = function()
        Environment.Locked = nil
        local FOVCircle = Environment.FOVCircle
        setrenderproperty(FOVCircle, "Color", Environment.FOVSettings.Color)
        __newindex(UserInputService, "MouseDeltaSensitivity", OriginalSensitivity)
        if Animation then Animation:Cancel() end
    end

    local GetClosestPlayer = function()
        local Settings = Environment.Settings
        local LockPart = Settings.LockPart
        if not Environment.Locked then
            RequiredDistance = Environment.FOVSettings.Enabled and Environment.FOVSettings.Radius or 2000
            for _, Value in next, GetPlayers(Players) do
                local Character = __index(Value, "Character")
                local Humanoid = Character and FindFirstChildOfClass(Character, "Humanoid")
                if Value ~= LocalPlayer and not table.find(Environment.Blacklisted, __index(Value, "Name")) and Character and FindFirstChild(Character, LockPart) and Humanoid then
                    local PartPosition = __index(Character[LockPart], "Position")
                    if Settings.AliveCheck and __index(Humanoid, "Health") <= 0 then continue end
                    local Vector, OnScreen, Distance = WorldToViewportPoint(Camera, PartPosition)
                    Vector = ConvertVector(Vector)
                    Distance = (GetMouseLocation(UserInputService) - Vector).Magnitude
                    if Distance < RequiredDistance and OnScreen then
                        RequiredDistance, Environment.Locked = Value
                    end
                end
            end
        elseif (GetMouseLocation(UserInputService) - ConvertVector(WorldToViewportPoint(Camera, __index(__index(__index(Environment.Locked, "Character"), LockPart), "Position")))).Magnitude > RequiredDistance then
            CancelLock()
        end
    end

    local Load = function()
        OriginalSensitivity = __index(UserInputService, "MouseDeltaSensitivity")
        local Settings, FOVCircle, FOVCircleOutline, FOVSettings = Environment.Settings, Environment.FOVCircle, Environment.FOVCircleOutline, Environment.FOVSettings

        ServiceConnections.RenderSteppedConnection = Connect(__index(RunService, Environment.DeveloperSettings.UpdateMode), function()
            if FOVSettings.Enabled and Settings.Enabled and FOVSettings.Visible then
                setrenderproperty(FOVCircle, "Radius", FOVSettings.Radius)
                setrenderproperty(FOVCircleOutline, "Radius", FOVSettings.Radius)
                setrenderproperty(FOVCircle, "Position", GetMouseLocation(UserInputService))
                setrenderproperty(FOVCircleOutline, "Position", GetMouseLocation(UserInputService))
                setrenderproperty(FOVCircle, "Visible", true)
                setrenderproperty(FOVCircleOutline, "Visible", true)
            else
                setrenderproperty(FOVCircle, "Visible", false)
                setrenderproperty(FOVCircleOutline, "Visible", false)
            end

            if Running and Settings.Enabled then
                GetClosestPlayer()
                if Environment.Locked then
                    local LockedPosition_Vector3 = __index(__index(Environment.Locked, "Character")[Environment.Settings.LockPart], "Position")
                    
                    if Settings.Sensitivity > 0 then
                        -- Smooth
                        Animation = TweenService:Create(Camera, TweenInfonew(Settings.Sensitivity, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {CFrame = CFramenew(Camera.CFrame.Position, LockedPosition_Vector3)})
                        Animation:Play()
                    else
                        -- Instant
                        Camera.CFrame = CFramenew(Camera.CFrame.Position, LockedPosition_Vector3)
                    end
                    
                    setrenderproperty(FOVCircle, "Color", FOVSettings.LockedColor)
                end
            end
        end)

        ServiceConnections.InputBeganConnection = Connect(__index(UserInputService, "InputBegan"), function(Input)
            if Typing then return end
            if Input.UserInputType == Enum.UserInputType.Keyboard and Input.KeyCode == Settings.TriggerKey or Input.UserInputType == Settings.TriggerKey then
                Running = true
            end
        end)

        ServiceConnections.InputEndedConnection = Connect(__index(UserInputService, "InputEnded"), function(Input)
            if Typing then return end
            if Input.UserInputType == Enum.UserInputType.Keyboard and Input.KeyCode == Settings.TriggerKey or Input.UserInputType == Settings.TriggerKey then
                Running = false
                CancelLock()
            end
        end)
    end

    ServiceConnections.TypingStartedConnection = Connect(__index(UserInputService, "TextBoxFocused"), function() Typing = true end)
    ServiceConnections.TypingEndedConnection = Connect(__index(UserInputService, "TextBoxFocusReleased"), function() Typing = false end)

    function Environment.Exit(self)
        for Index, _ in next, ServiceConnections do
            Disconnect(ServiceConnections[Index])
        end
        self.FOVCircle:Remove()
        self.FOVCircleOutline:Remove()
        getgenv().ExunysDeveloperAimbot = nil
    end

    Environment.Load = Load
    return Environment
end

-- Инициализация Аимбота (Загружаем только если НЕ мобилка, чтобы не грузить систему)
local Aimbot = nil
if not isMobile then
    Aimbot = LoadAimbotModule()
    Aimbot.Load()
end

-- ==============================================================================
-- ОСНОВНОЙ СКРИПТ ХАБА
-- ==============================================================================

-- --- ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ ---
_G.ClickTPEnabled = false
_G.ESPEnabled = false
local noclipConn = nil
local flyLoaded = false

-- --- ФУНКЦИЯ БЕЗОПАСНОЙ ЗАГРУЗКИ ---
local function SafeLoad(url)
    local success, result = pcall(function() return game:HttpGet(url) end)
    if not success then return nil end
    local func, err = loadstring(result)
    if not func then return nil end
    return func()
end

-- --- ТЕМА GUI ---
local Theme = {
    Bg = Color3.fromRGB(20, 20, 25),
    Element = Color3.fromRGB(35, 35, 40),
    Accent = Color3.fromRGB(0, 110, 255),
    Text = Color3.fromRGB(240, 240, 240),
    Corner = UDim.new(0, 9)
}

local function getExecutor()
    if identifyexecutor then return identifyexecutor() end
    if getexecutorname then return getexecutorname() end
    if fluxus then return "Fluxus" end
    if delta then return "Delta" end
    return "System"
end

-- --- GUI SETUP ---
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "YouthHub_UltPro"
ScreenGui.Parent = Player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- ГЛАВНОЕ ОКНО
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 550 * scale, 0, 380 * scale)
MainFrame.Position = UDim2.new(0.5, -275 * scale, 0.5, -190 * scale)
MainFrame.BackgroundColor3 = Theme.Bg
MainFrame.BackgroundTransparency = 0.15
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = true
MainFrame.Parent = ScreenGui

Instance.new("UICorner", MainFrame).CornerRadius = Theme.Corner
local MainStroke = Instance.new("UIStroke", MainFrame)
MainStroke.Color = Color3.fromRGB(60, 60, 70)
MainStroke.Thickness = 1
MainStroke.Transparency = 0.6

-- ТОП БАР
local TopBar = Instance.new("Frame", MainFrame)
TopBar.Size = UDim2.new(1, 0, 0, 40 * scale)
TopBar.BackgroundColor3 = Theme.Element
TopBar.BackgroundTransparency = 0.5
TopBar.BorderSizePixel = 0
Instance.new("UICorner", TopBar).CornerRadius = Theme.Corner

local TopPatch = Instance.new("Frame", TopBar)
TopPatch.Size = UDim2.new(1, 0, 0, 10)
TopPatch.Position = UDim2.new(0, 0, 1, -10)
TopPatch.BackgroundColor3 = Theme.Element
TopPatch.BackgroundTransparency = 1
TopPatch.BorderSizePixel = 0

local Title = Instance.new("TextLabel", TopBar)
Title.Size = UDim2.new(0, 150, 1, 0); 
Title.Position = UDim2.new(0, 15, 0, 0); 
Title.BackgroundTransparency = 1
Title.Text = "HUB"; 
Title.Font = Enum.Font.GothamBlack; 
Title.TextColor3 = Theme.Text; 
Title.TextSize = 18 * scale; 
Title.TextXAlignment = 0

local function mkWinBtn(txt, col, off)
    local b = Instance.new("TextButton", TopBar)
    b.Size = UDim2.new(0, 30 * scale, 0, 30 * scale); 
    b.Position = UDim2.new(1, off * scale, 0.5, -15 * scale)
    b.BackgroundColor3 = col; 
    b.BackgroundTransparency = 0.2
    b.Text = txt; 
    b.TextColor3 = Color3.new(1,1,1); 
    b.Font = Enum.Font.GothamBold; 
    b.TextSize = 14 * scale
    Instance.new("UICorner", b).CornerRadius = UDim.new(0, 6)
    return b
end

local CloseBtn = mkWinBtn("X", Color3.fromRGB(200, 50, 50), -40)
local MinBtn = mkWinBtn("-", Color3.fromRGB(220, 170, 40), -80)

-- МИНИ КНОПКА (Размер фиксирован, чтобы на телефоне не была слишком мелкой)
local MiniButton = Instance.new("TextButton")
MiniButton.Size = UDim2.new(0, 50, 0, 50) -- УБРАН SCALE, ЧТОБЫ БЫЛА УДОБНОЙ
MiniButton.Position = UDim2.new(0.1, 0, 0.1, 0)
MiniButton.BackgroundColor3 = Theme.Bg
MiniButton.BackgroundTransparency = 0.2
MiniButton.Text = "H"
MiniButton.TextColor3 = Theme.Text
MiniButton.Font = Enum.Font.GothamBlack
MiniButton.TextSize = 24 -- Тоже без scale
MiniButton.Visible = false
MiniButton.Active = true
MiniButton.Draggable = true
MiniButton.Parent = ScreenGui
Instance.new("UICorner", MiniButton).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", MiniButton).Color = Theme.Accent

-- --- СИСТЕМА ВКЛАДОК ---
local SideBar = Instance.new("Frame", MainFrame)
SideBar.Size = UDim2.new(0, 140 * scale, 1, -40 * scale); 
SideBar.Position = UDim2.new(0, 0, 0, 40 * scale); 
SideBar.BackgroundTransparency = 1

local PageContainer = Instance.new("Frame", MainFrame)
PageContainer.Size = UDim2.new(1, -150 * scale, 1, -50 * scale); 
PageContainer.Position = UDim2.new(0, 145 * scale, 0, 45 * scale); 
PageContainer.BackgroundTransparency = 1

local tabs = {}
local function SwitchTab(name)
    for tName, data in pairs(tabs) do
        if tName == name then
            data.Frame.Visible = true
            data.Button.BackgroundColor3 = Theme.Accent
            data.Button.BackgroundTransparency = 0.1
            data.Button.TextColor3 = Color3.new(1,1,1)
        else
            data.Frame.Visible = false
            data.Button.BackgroundColor3 = Theme.Element
            data.Button.BackgroundTransparency = 0.8
            data.Button.TextColor3 = Color3.fromRGB(150, 150, 160)
        end
    end
end

local function CreateTab(txt, ord)
    local b = Instance.new("TextButton", SideBar)
    b.Size = UDim2.new(0.9, 0, 0, 40 * scale); 
    b.Position = UDim2.new(0.05, 0, 0, 10 * scale + (ord * 45 * scale))
    b.Text = txt; 
    b.Font = Enum.Font.GothamBold; 
    b.TextSize = 13 * scale; 
    b.AutoButtonColor = false
    b.BackgroundColor3 = Theme.Element; 
    b.BackgroundTransparency = 0.8
    Instance.new("UICorner", b).CornerRadius = UDim.new(0, 6)

    local p = Instance.new("Frame", PageContainer); 
    p.Size = UDim2.new(1,0,1,0); 
    p.BackgroundTransparency = 1; 
    p.Visible = false
    tabs[txt] = {Button = b, Frame = p}
    
    b.MouseButton1Click:Connect(function() SwitchTab(txt) end)
    return p
end

-- ==========================================
-- TAB 1: MAIN
-- ==========================================
local P_Main = CreateTab("Main", 0)

local Av = Instance.new("ImageLabel", P_Main); 
Av.Size=UDim2.new(0,100 * scale,0,100 * scale); 
Av.Position=UDim2.new(0.5,-50 * scale,0.1,0); 
Av.BackgroundTransparency=1; 
Av.Image="rbxthumb://type=AvatarHeadShot&id="..Player.UserId.."&w=420&h=420"
Instance.new("UICorner", Av).CornerRadius = UDim.new(1, 0)
Instance.new("UIStroke", Av).Color = Theme.Accent; 
Instance.new("UIStroke", Av).Thickness = 2; 
Instance.new("UIStroke", Av).Transparency = 0.3

local function mkLbl(txt, sz, pos, col, font)
    local l = Instance.new("TextLabel", P_Main); 
    l.Text=txt; 
    l.TextSize=sz * scale; 
    l.Position=pos; 
    l.TextColor3=col; 
    l.Font=font; 
    l.Size=UDim2.new(1,0,0,sz * 1.5 * scale); 
    l.BackgroundTransparency=1; 
    return l
end

mkLbl(Player.DisplayName, 20, UDim2.new(0,0,0.5,0), Theme.Text, Enum.Font.GothamBlack)
mkLbl("@"..Player.Name, 15, UDim2.new(0,0,0.6,0), Color3.fromRGB(150,150,150), Enum.Font.Gotham)

local ExecFrame = Instance.new("Frame", P_Main); 
ExecFrame.Size = UDim2.new(0.6, 0, 0, 35 * scale); 
ExecFrame.Position = UDim2.new(0.2, 0, 0.75, 0); 
ExecFrame.BackgroundColor3 = Theme.Element; 
ExecFrame.BackgroundTransparency = 0.4
Instance.new("UICorner", ExecFrame).CornerRadius = UDim.new(0, 6); 
Instance.new("UIStroke", ExecFrame).Color = Theme.Accent; 
Instance.new("UIStroke", ExecFrame).Transparency = 0.5
local ExecLbl = mkLbl(getExecutor(), 14, UDim2.new(0,0,0.15,0), Theme.Text, Enum.Font.GothamBold); 
ExecLbl.Parent = ExecFrame

-- ==========================================
-- TAB 2: MENU (Scripts)
-- ==========================================
local P_Menu = CreateTab("Menu", 1)
local MenuList = Instance.new("Frame", P_Menu); 
MenuList.Size = UDim2.new(1, -10 * scale, 1, -10 * scale); 
MenuList.Position = UDim2.new(0, 5 * scale, 0, 5 * scale); 
MenuList.BackgroundTransparency = 1
Instance.new("UIListLayout", MenuList).Padding = UDim.new(0, 8)

local function AddBtn(parent, txt, cb, tog)
    local f = Instance.new("Frame", parent); 
    f.Size = UDim2.new(1, 0, 0, 42 * scale); 
    f.BackgroundColor3 = Theme.Element; 
    f.BackgroundTransparency = 0.4; 
    Instance.new("UICorner", f).CornerRadius = UDim.new(0, 6)

    local l = Instance.new("TextLabel", f); 
    l.Text=txt; 
    l.Size=UDim2.new(0.6,0,1,0); 
    l.Position=UDim2.new(0,10,0,0); 
    l.BackgroundTransparency=1; 
    l.TextColor3=Theme.Text; 
    l.TextXAlignment=0; 
    l.Font=Enum.Font.GothamSemibold; 
    l.TextSize=13 * scale

    local b = Instance.new("TextButton", f); 
    b.Size=UDim2.new(0,70 * scale,0,30 * scale); 
    b.Position=UDim2.new(1,-80 * scale,0.5,-15 * scale); 
    b.Font=Enum.Font.GothamBold; 
    b.TextSize=11 * scale; 
    Instance.new("UICorner", b).CornerRadius = UDim.new(0, 6)

    local st = false
    local function up()
        if tog then
            b.Text = st and "ON" or "OFF"
            b.BackgroundColor3 = st and Theme.Accent or Color3.fromRGB(50,50,60)
            b.BackgroundTransparency = st and 0.1 or 0.5
            b.TextColor3 = st and Color3.new(1,1,1) or Color3.new(0.7,0.7,0.7)
        else
            b.Text = "RUN"; 
            b.BackgroundColor3 = Theme.Accent; 
            b.BackgroundTransparency = 0.1
        end
    end
   
